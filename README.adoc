= kubernetes-contrail-day-one

== book progress

* (2019-06-30 ~ ) updating/extending/reviewing  #<---
* (2019-06-30) main part of the book is done
* (2019-06-01) started to co-author with yuvaraja
* (2019-05-31) adjusted the book content
* (2019-05-28) tested csrx service chaining feature
* (2019-05-25) ch3 working in progress
* (2019-05-24) local setup built, tested multi intf pod and csrx
* (2019-05-05) ch1, ch2 done, starting ch3
* (2019-04-27) ping updated ch2: starting pod building example
* (2019-04-22) ayman uploaded 'docker.docx'
* (2019-04-20) ping kicked off ch2
* (2019-04-17) ayman uploaded 'containers'
* (2019-04-13) started, build repository/toc

== latest TOC (as of 2019-08-13) 

  |Chapter 1: Foundation Principles
  . |Containers overview
  . . |Understanding containers
  . . |Juniper VSRX vs CSRX
  . . |Understanding Docker
  . |Contrail overview
  . . |Contrail Architecture Fundamentals
  . . |Contrail VRouter

  |Chapter 2: Kubernetes basics
  . |What is kubernetes
  . |Kubernetes Architecture and components
  . . |Kubernetes "master"
  . . |Kubernetes "node"
  . . |kubernetes work flow
  . . |kubernetes objects
  . |Building Kubernetes POD
  . . |YAML file for Kubernetes
  . . |`pause` container
  . . |intra-pod communication
= . . |Kubectl tool

  |Chapter3: Kubernetes in practice
  |Kubernetes in practice
  . |Labels
  . |NameSpace
  . . |what is NameSpace
  . . |create a NS
  . . |default NS
  . . |quota
  . |Replication Controller
  . . |create RC
  . . |test RC
  . |ReplicaSet
  . |Deployment
  . . |create a deployment
  . . |deployment work flow
  . . |rolling update
  . . . |test rolling update
  . . . |how it works
  . . . |record
  . . . |pause/resume/undo
  . |Service
  . . |ClusterIP service
  . . . |create clusterIP service
= . . . |verify cluserIP service
  . . . |specify a clusterIP
  . . |NodePort service
  . . |loadbalancer service
  . . . |externalIP
  . . |service implementation: kube-proxy
  . |Endpoints
  . |Ingress
  . . |kubernetes Ingress introduction
  . . |Ingress vs service
  . . |Ingress object
  . . |ingress controller
  . . |ingress examples
  . . . |single service ingress
  . . . |simple fanout ingress
  . . . |virtual host ingress
  . . |multiple ingress controller
  . . |TLS support
  . |kubernetes networking
  . |Network policy
  . . |Prerequisites
  . . |Pod(s) selection
  . . |Ingress and egress rules for group of pod(s)
  . |livenessProbe and readinessProbe
  . . |Liveness Probe
  . . |Readiness Probe
  . |Annotation
  . . |Annotations in Ingress
  . . |Annotations in Network Attachment Defination

  |Chapter 4: Kubernetes and Contrail integration
  . |Contrail-Kubernetes architecture
  . . |Why contrail with Kubernetes ?
  . . |contrail-kube-manager
  . . |kubernetes to contrail object mapping
  . |contrail namespaces and isolation
  . . |namespace introduction
  . . |Non-isolated NS
  . . |Isolated NS
  . . |communication between pod in different namespaces
  . |contrail floating IP
  . . |overlay Internet access
  . . |floating IP introduction
  . . |creating FIP pool
  . . |FIP pool scope
  . . |global level FIP pool
  . . |NS level FIP pool
  . . . |object level FIP pool
  . . |creating FIP
  . . |advertising FIP
  . |contrail services
  . . |kubernetes service introduction
  . . |contrail service: ECMP loadbalancer
  . . . |contrail neutron loadbalancer
  . . . |contrail sevice loadbalancer
  . . . |navigating the service loadbalancer objects
  . . |service testbed
  . . |contrail ClusterIP service
  . . . |ClusterIP as FIP
  . . . |scale backend pods
  . . . |ECMP routing table: control node perspective
  . . . |ECMP routing table: compute node perspective
  . . . |multiple port service
  . . . |the flow table
  . . |contrail LoadBalancer service
  . . . |create loadbalancer service
  . . . |examine VRF table in gateway router
  . . . |verify the loadbalancer service
  . . . |loadbalancer service ECMP
  . . . |verify the loadbalancer service ECMP
  . |contrail ingress
  . . |contrail ingress loadbalancer
  . . |contrail ingress workflow
  . . |contrail Ingress traffic flow
  . . |Ingress testbed
  . . |single service Ingress
  . . . |`ingress` definition
  . . . |backend `service` definition
  . . . |backend `pod` definition
  . . . |an "all in one" yaml file
  . . . |deploy the single service Ingress
  . . . |ingress objects
  . . . |haproxy processes
  . . . |Ingress loadbalancer objects
  . . . |`haproxy.conf` file
  . . . |gateway router VRF table
  . . . |verify ingress: from internal
  . . . |verify ingress: from external (Internet host)
  . . |simple fan-out Ingress
  . . . |`ingress` definition
  . . . |backend `service` definition
  . . . |backend `pod` definition
  . . . |deploy simple fan-out Ingress
  . . . |ingress objects and ingress loadbalancer
  . . . |haproxy process and haproxy.cfg file
  . . . |verify ingress: from internal
  . . . . |problem of old method
  . . . . |workaround
  . . . . |create web pages
  . . . . |start new web server
  . . . . |the new all-in-one yaml file
  . . . . |test the URL with different paths
= . . . |verify ingress: from external (Internet host)
  . . |name-based virtual hosting Ingress
  . . . |`ingress` definition
  . . . |an "all in one" yaml file
  . . . |examine ingress objects
  . . . |exploring Ingress loadbalancer objects
  . . . |examine `haproxy.conf` file
  . . . |verify ingress: from internal
  . . . |verify ingress: from external (Internet host)
  . . |troubleshooting contrail ingress packet flow
  . . . |Internet Host -> gateway router
  . . . |gateway router -> active haproxy node: MPLS over GRE
  . . . |FIP -> loadbalancer IP: NAT
  . . . |active haproxy -> service IP: MPLS over UDP
  . . . |"forward" vs "proxy"
  . . . |service IP -> backend pod IP: NAT
  . . . |returning traffic
  . |contrail multiple interface pod
  . . |multiple interface pod introduction
  . . |contrail as a CNI
  . . |CRD and `contrail-kube-manager`
  . . |`NetworkAttachmentDefinition` object
  . . |multiple-interface pod
  . . |test multi-interface pod
  . |service chaining with CSRX
  . . |contrail service chaining introduction
  . . |create VNs
  . . |create client pods
  . . |create CSRX pod
  . . |verify podIP
  . . |ping test
  . . |troubleshooting ping issue
  . . |create service chaining
  . . |verify service chaining
  . . |security policy
